
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../bpm/">
      
      
        <link rel="next" href="../lattice/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.2.7">
    
    
      
        <title>Knob - Placetmachine</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.046329b4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#knob-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Placetmachine" class="md-header__button md-logo" aria-label="Placetmachine" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Placetmachine
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Knob
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/drozzoff/Placetmachine" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../placet/communicator/" class="md-tabs__link">
          
  
  Documentation

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../examples/example1/" class="md-tabs__link">
          
  
  Examples

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Main

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Placetmachine" class="md-nav__button md-logo" aria-label="Placetmachine" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Placetmachine
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/drozzoff/Placetmachine" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_1" >
        
          <label class="md-nav__link" for="__nav_1_1" id="__nav_1_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Placet module
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_1">
            <span class="md-nav__icon md-icon"></span>
            Placet module
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../placet/communicator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communicator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../placet/pyplacet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Placetpy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../placet/placetwrap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Placet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" checked>
        
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lattice module
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Lattice module
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../element/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Element
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../quadrupole/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quadrupole
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sbend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sbend
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../multipole/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multipole
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../drift/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Drift
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../dipole/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dipole
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cavity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cavity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../bpm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bpm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Knob
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Knob
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob" class="md-nav__link">
    Knob
  </a>
  
    <nav class="md-nav" aria-label="Knob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.__apply_min_scale" class="md-nav__link">
    __apply_min_scale()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.__apply_min_scale_memory" class="md-nav__link">
    __apply_min_scale_memory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.__apply_simple_memory" class="md-nav__link">
    __apply_simple_memory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.__appply_simple" class="md-nav__link">
    __appply_simple()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.__evaluate_sensitive_coordinate" class="md-nav__link">
    __evaluate_sensitive_coordinate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.apply" class="md-nav__link">
    apply()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.cache_state" class="md-nav__link">
    cache_state()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.reset" class="md-nav__link">
    reset()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.to_dataframe" class="md-nav__link">
    to_dataframe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.upload_state_from_cache" class="md-nav__link">
    upload_state_from_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../lattice/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Beamline
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Beam module
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Beam module
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../beam/beam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Beam
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../machine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/example1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example 1
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Main
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob" class="md-nav__link">
    Knob
  </a>
  
    <nav class="md-nav" aria-label="Knob">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.__apply_min_scale" class="md-nav__link">
    __apply_min_scale()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.__apply_min_scale_memory" class="md-nav__link">
    __apply_min_scale_memory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.__apply_simple_memory" class="md-nav__link">
    __apply_simple_memory()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.__appply_simple" class="md-nav__link">
    __appply_simple()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.__evaluate_sensitive_coordinate" class="md-nav__link">
    __evaluate_sensitive_coordinate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.apply" class="md-nav__link">
    apply()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.cache_state" class="md-nav__link">
    cache_state()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.reset" class="md-nav__link">
    reset()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.to_dataframe" class="md-nav__link">
    to_dataframe()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placetmachine.lattice.knob.Knob.upload_state_from_cache" class="md-nav__link">
    upload_state_from_cache()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="knob-documentation">knob documentation</h1>


<div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="placetmachine.lattice.knob.Knob">
<code class="highlight language-python"><span class="n">Knob</span><span class="p">(</span><span class="n">elements</span><span class="p">,</span> <span class="n">knob_structure</span><span class="p">,</span> <span class="o">**</span><span class="n">extra_params</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents first">

  
      <p>A class used to create a Knob.</p>
<p>A knob is a certain change in the beamline (elements offsets, strengths change, etc.)
that is applied to modify change conditions like beam waist, dispersion or something
more complex.</p>
<p>So far the elements' types accepted for the knobs creation are <a class="autorefs autorefs-internal" href="../quadrupole/#placetmachine.lattice.quadrupole.Quadrupole"><code>Quadrupole</code></a>
and <a class="autorefs autorefs-internal" href="../cavity/#placetmachine.lattice.cavity.Cavity"><code>Cavity</code></a>.</p>
<p>The <code>Knob</code> is going to store the references of the <a class="autorefs autorefs-internal" href="../element/#placetmachine.lattice.element.Element"><code>Element</code></a>s provided and use them to 
apply the changes. Thus changes to the elements here are going to change the originals.</p>
<p>If parameter <code>`step_size'' is provided, the coordinates modifications when using [</code>apply_knob'][placetmachine.lattice.knob.Knob.apply_knob]
are adjusted towards the closest  number full of steps.</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>elements</code></td>
          <td>
                <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="placetmachine.lattice.Element" href="../element/#placetmachine.lattice.element.Element">Element</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of the elements that used in this Knob.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>variables</code></td>
          <td>
                <code><span title="typing.List">List</span>[dict]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list containing dictionaries that describe the changes that are performed to the elements when <code>Knob</code> is
applied. Number of elements in the list should be the same as the number of the elements. It contains the info
on the amplitude for each coordinate to change for the given <code>Element</code> as well as the total accumulated changes,
mismatches and step sizes.
An example of the 
dict that describes that <code>Element</code> must be moved vertically by 5.0 micron and horizontaly by -2.0 micron:
<div class="highlight"><pre><span></span><code>{
&#39;y&#39;: {
&#39;amplitude&#39;: 5.0,
&#39;change&#39;: 0.0,
&#39;step_size&#39;: 0.5,
&#39;mismatch&#39;: 0.0
}
&#39;x&#39;: {
&#39;amplitude&#39;: -2.0,
&#39;change&#39;: 0.0
&#39;step_size&#39;: 0.5,
&#39;mismatch&#39;: 0.0
}
}
</code></pre></div>
Both vertical and horizontal movers are anticipated to have a step size of 0.5 micron in this example. Also, 
for each coordinate a mismatch and total accumnulated coordinate changes are kept.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>supported_amplitudes</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[float]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of the supported amplitudes. When provided, only the amplitudes from the list are applied. This list
contains the amplitudes that an attribute <code>amplitude</code> can take. That means that amplitude given
in  <code>Knob.apply()</code> is adjusted so that the sum <code>Knob.amplitude + amplitude</code> eqists in <code>supported_amplitudes</code>.
Since, strategies, like <code>min_scale</code> and <code>min_scale_memory</code> have their own amplitude selection, attribute
<code>supported_amplitudes</code> has no effect on them.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>amplitude_mismatch</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A mismatch between the amplitude requested and the amplitude applied. By default is <code>0.0</code>.
It is modified when the <code>apply()</code> strategy foresees the automatic adjustment of the amplitude. So
<code>amplitude_mismatch</code> accomodates this mismatch between multiple <code>apply()</code> calls.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of the Knob.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>types_of_elements</code></td>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Types of the elements involved in the Knob.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>amplitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The current Knob amplitude.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>elements</code></td>
          <td>
                <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="placetmachine.lattice.Element" href="../element/#placetmachine.lattice.element.Element">Element</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>List of elements to be used for this <code>Knob</code>.
Elements provided here must be the elements that are the part of the Beamline.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>knobs_structure</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list containing info about the elements' amplitudes and step sizes. An example of such a list for
a knob containing 2 elements:
<div class="highlight"><pre><span></span><code>[{&#39;y&#39;:{&#39;amplitude&#39;: 2.0, &#39;step_size&#39;: 0.5}}, {&#39;x&#39;: {&#39;amplitude&#39;: 2.5}, &#39;y&#39;: {&#39;amplitude&#39;: -0.5}}]
</code></pre></div>
Here, the first element has an amplitude <code>2.0</code> for the coordinate <code>y</code>, while the second element
requires a combination of <code>x</code> and <code>y</code> changes of <code>2.5</code> and <code>-0.5</code> respectively.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Other Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the knob. If not provided, defaults to "".</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>supported_amplitudes</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[float]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of the supported amplitudes.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="placetmachine.lattice.knob.Knob.__apply_min_scale">
<code class="highlight language-python"><span class="n">__apply_min_scale</span><span class="p">(</span><span class="n">amplitude</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Apply the the knob.</p>
<p>The offsets are evaluated the following way:
1. The minimum offset is evalued among all the elements. For instance, lets take
        the smallest offset amplitude is 1.0 $\mu$m, step size of 0.5 $\mu$m, and the knob
        amplitude of 0.6. The rounded smallest offsets is goint to be 0.5.
2. We take the smallest rounded offset and evaluate the offsets of the other elements by
        scalling the offset amplitudes correspondingly. These offsets are also rounded to 
        the closest value proportional to the step size.</p>
<p>As a result of such adjustemnt - amplitude applied may differ from the amplitude
passed.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>amplitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Amplitude of the knob to apply.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="placetmachine.lattice.knob.Knob.__apply_min_scale_memory">
<code class="highlight language-python"><span class="n">__apply_min_scale_memory</span><span class="p">(</span><span class="n">amplitude</span><span class="p">,</span> <span class="o">**</span><span class="n">extra_params</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Apply the the knob.</p>
<p>The offsets are evaluated the following way:
1. The minimum offset is evalued among all the elements. For instance, lets take
        the smallest offset amplitude is 1.0 $\mu$m, step size of 0.5 $\mu$m, and the knob
        amplitude of 0.6. The rounded smallest offsets is goint to be 0.5.
2. We take the smallest rounded offset and evaluate the offsets of the other elements by
        scalling the offset amplitudes correspondingly. These offsets are also rounded to 
        the closest value proportional to the step size.</p>
<p>As a result of such adjustment - amplitude applied may differ from the amplitude
passed.</p>
<p>When evaluating the offsets, the mismatch between the current values and values
expected by the amplitude are added. Also, the amplitude mismatch (difference between
the <code>amplitude</code> provided to the function <code>Knob.amplitude</code>) is taken into accound.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>amplitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Amplitude of the knob to apply.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Other Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>use_global_mismatch</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>True</code> (default) coordinates' changes are evaluated to also compensate the possible mismatches
caused by other knobs.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="placetmachine.lattice.knob.Knob.__apply_simple_memory">
<code class="highlight language-python"><span class="n">__apply_simple_memory</span><span class="p">(</span><span class="n">amplitude</span><span class="p">,</span> <span class="o">**</span><span class="n">extra_params</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Apply the the knob.</p>
<p>The offsets to apply are evaluated by rounding the offsets' amplitude taking 
into account also the the accumulated mismatch. It also takes into account the 
present amplitude mismatch <code>Knob.amplitude_mismatch</code>.</p>
<p>If <code>supported_amplitudes</code> is provided, it takes the closest value such that
<code>amplitude + Knob.amplitude</code> exist in the <code>knob.supported_amplitudes</code> and 
applies it. The difference between the applied and requested amplitudes is 
added to <code>amplitude_mismatch</code> attribute.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>amplitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Amplitude of the knob to apply.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Other Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>ignore_supported_amplitudes</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>True</code> (default is <code>False</code>) ignores the <code>supported_amplitudes</code> attribute even if present.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>use_global_mismatch</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>True</code> (default) coordinates' changes are evaluated to also compensate the possible mismatches
caused by other knobs.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="placetmachine.lattice.knob.Knob.__appply_simple">
<code class="highlight language-python"><span class="n">__appply_simple</span><span class="p">(</span><span class="n">amplitude</span><span class="p">,</span> <span class="o">**</span><span class="n">extra_params</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Apply the the knob.</p>
<p>The offsets to apply are evaluated by rounding the offsets' amplitude.
Is prone to accumulating the missmatches of the knobs offsets.</p>
<p>If <code>supported_amplitudes</code> is provided, it takes the closest value such that
<code>amplitude + Knob.amplitude</code> exist in the <code>Knob.supported_amplitudes</code> and 
applies it. The difference between the applied and requested amplitudes is 
added to <code>amplitude_mismatch</code> attribute.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>amplitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Amplitude of the knob to apply.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Other Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>ignore_supported_amplitudes</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>True</code> (default is <code>False</code>) ignores the <code>supported_amplitudes</code> attribute even if present.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="placetmachine.lattice.knob.Knob.__evaluate_sensitive_coordinate">
<code class="highlight language-python"><span class="n">__evaluate_sensitive_coordinate</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Evaluate the most sensitive coordinate and element by checking the relation between
their absolute amplitudes and step sizes. The smaller value is - the more sensitive
the element/coordinate is.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>The id of the element and the coordinate of the most sensitive point. If no such found</code>
          </td>
          <td>
            <div class="doc-md-description">
              
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>(eg. no step sizes defined) returns `None, None`.</code>
          </td>
          <td>
            <div class="doc-md-description">
              
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="placetmachine.lattice.knob.Knob.apply">
<code class="highlight language-python"><span class="n">apply</span><span class="p">(</span><span class="n">amplitude</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Apply the knob.</p>
<p>Amplitude defines the fraction of the amplitudes of each individual coordinates to add to the 
<code>elements</code>s involved in the <code>Knob</code>. If <code>step_size</code> is not defined (default), coordinate change 
is applied directly. If <code>step_size</code> is defined, the actual coordinate change may be different
from anticipated. This difference may also depend on the <code>strategy</code> used.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>amplitude</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Amplitude of the knob to apply.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Other Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>strategy</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Strategy to use for calculations of the offsets when the <code>step_size</code> is defined. Default is
<code>None</code>. Possible options are:
<div class="highlight"><pre><span></span><code>[None, &#39;simple&#39;, &#39;simple_memory&#39;, &#39;min_scale&#39;, &#39;min_scale_memory&#39;]
</code></pre></div>
If strategy is <code>None</code> all of the step sizes are ignored.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td><code>use_global_mismatch</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>True</code> (default) coordinates' changes are evaluated to also compensate the possible mismatches
caused by other knobs. Only applicable to the strategies that memorize the mismatches, such as:
<div class="highlight"><pre><span></span><code>[&#39;simple_memory&#39;, &#39;min_scale_memory&#39;]
</code></pre></div></p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="placetmachine.lattice.knob.Knob.cache_state">
<code class="highlight language-python"><span class="n">cache_state</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Save the current knobs' state into the cache.</p>
<p>It saves the changes applied by the knob so it could be restored later.
Attributes to be cached:
<div class="highlight"><pre><span></span><code>[`amplitude`, `amplitude_mismatch`, `changes`, `mismatch`]
</code></pre></div></p>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="placetmachine.lattice.knob.Knob.reset">
<code class="highlight language-python"><span class="n">reset</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Reset the knob's data.</p>
<p>It resets the knob to 0.0 amplitude. That means the elements' offsets changes done 
by the knob are removed.
Consequently resets the following attributes: <code>amplitude</code>, <code>mismatch</code>, and <code>changes</code>.</p>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="placetmachine.lattice.knob.Knob.to_dataframe">
<code class="highlight language-python"><span class="n">to_dataframe</span><span class="p">()</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Return the DataFrame with the Knob data.</p>
<p>The data included in the DataFrame is:
<div class="highlight"><pre><span></span><code>[&#39;name&#39;, &#39;type&#39;, &#39;girder&#39;, &#39;s&#39;]
</code></pre></div>
which is a name, type, girder id, and location of the element belonging to the girder.
Plus the coordinate amplitude, current value in the beamline, coordinate change performed
by the knob, and the mismatch when there is a finit step size:
<div class="highlight"><pre><span></span><code>[&#39;y_amplitude&#39;, &#39;y_current&#39;]
</code></pre></div>
Typically, the properties, like <code>girder</code> or <code>s</code> are acquired during the <a class="autorefs autorefs-internal" href="../lattice/#placetmachine.lattice.lattice.Beamline"><code>Beamline</code></a>
creation. When the knob is created on the isolated element, these properties are set to <code>None</code>.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="pandas.DataFrame">DataFrame</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Knob data summary</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 class="doc doc-heading" id="placetmachine.lattice.knob.Knob.upload_state_from_cache">
<code class="highlight language-python"><span class="n">upload_state_from_cache</span><span class="p">(</span><span class="n">clear_cache</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


  <div class="doc doc-contents ">
  
      <p>Upload the knob's data from the cache.</p>
<p>Attributes to be upload:
<div class="highlight"><pre><span></span><code>[`amplitude`, `amplitude_mismatch`, `changes`, `mismatch`]
</code></pre></div>
As these values are uploaded - elements' offsets are adjusted correspondingly.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>clear_cache</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>True</code> clears the cached data.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.path"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  </body>
</html>